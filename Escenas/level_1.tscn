[gd_scene load_steps=38 format=3 uid="uid://vpy637uo1u5s"]

[ext_resource type="Script" path="res://Scripts/keyScoreController.gd" id="1_4anx1"]
[ext_resource type="Texture2D" uid="uid://cohhefdh4slxm" path="res://Assets/Background.png" id="2_c1mje"]
[ext_resource type="PackedScene" uid="uid://b06sp8jyxe4e2" path="res://Escenas/key.tscn" id="3_moo0h"]
[ext_resource type="Texture2D" uid="uid://b7vlffb4tn0au" path="res://icon.svg" id="4_31b13"]
[ext_resource type="Script" path="res://Scripts/UIscript.gd" id="5_1fsjc"]
[ext_resource type="Texture2D" uid="uid://clb2ijwne1dam" path="res://Assets/keysprite.png" id="6_6ct2o"]
[ext_resource type="FontFile" uid="uid://dplfsv3u50xr1" path="res://Fonts/8-bit-hud.ttf" id="6_vg22x"]
[ext_resource type="Script" path="res://Scripts/Chest.gd" id="9_dbux8"]
[ext_resource type="Texture2D" uid="uid://4j6a3xba7oot" path="res://Assets/chest_closed.png" id="11_3ruer"]
[ext_resource type="PackedScene" uid="uid://bvobdu6sd5fsv" path="res://Escenas/chest.tscn" id="11_4w3xq"]
[ext_resource type="Texture2D" uid="uid://jpwkif8e81v0" path="res://Assets/Chest_open.png" id="12_dkjh4"]
[ext_resource type="Script" path="res://Scripts/Live.gd" id="12_xivp1"]
[ext_resource type="Script" path="res://Scripts/Checkpoint.gd" id="13_at80y"]
[ext_resource type="Texture2D" uid="uid://c2r6hc60m5au7" path="res://Assets/Vida.png" id="14_6smgm"]
[ext_resource type="PackedScene" uid="uid://d1mvv8ryuntuk" path="res://Escenas/Blaki.tscn" id="14_jysg7"]
[ext_resource type="PackedScene" uid="uid://cy82cy5ui0wmt" path="res://Escenas/portal.tscn" id="15_2ccp8"]
[ext_resource type="Texture2D" uid="uid://ceqxtmilhrh6k" path="res://Assets/checkpoint-sheet-sheet.png" id="15_7oy8a"]
[ext_resource type="Script" path="res://Scripts/spike.gd" id="15_ouvhg"]

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_kjaqq"]
load_path = "res://.godot/imported/Tilesetmonochromy.png-f191cc78a3237ab9cc07f78179329957.ctex"

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_vmlpi"]
texture = SubResource("CompressedTexture2D_kjaqq")
0:0/0 = 0
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0
1:0/0 = 0
1:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:0/0/physics_layer_0/angular_velocity = 0.0
2:0/0 = 0
2:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:0/0/physics_layer_0/angular_velocity = 0.0
3:0/0 = 0
3:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:0/0/physics_layer_0/angular_velocity = 0.0
4:0/0 = 0
4:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
4:0/0/physics_layer_0/angular_velocity = 0.0
0:1/0 = 0
0:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:1/0/physics_layer_0/angular_velocity = 0.0
1:1/0 = 0
1:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:1/0/physics_layer_0/angular_velocity = 0.0
2:1/0 = 0
2:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:1/0/physics_layer_0/angular_velocity = 0.0

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_rr0qq"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_cffgq"]
texture = SubResource("CompressedTexture2D_rr0qq")
0:3/0 = 0
0:3/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:3/0/physics_layer_0/angular_velocity = 0.0
1:3/0 = 0
1:3/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:3/0/physics_layer_0/angular_velocity = 0.0
0:4/0 = 0
0:4/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:4/0/physics_layer_0/angular_velocity = 0.0
1:4/0 = 0
1:4/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:4/0/physics_layer_0/angular_velocity = 0.0
2:4/0 = 0
2:4/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:4/0/physics_layer_0/angular_velocity = 0.0
3:4/0 = 0
3:4/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:4/0/physics_layer_0/angular_velocity = 0.0

[sub_resource type="TileSet" id="TileSet_ogw1u"]
physics_layer_0/collision_layer = 2
physics_layer_0/collision_mask = 13
sources/1 = SubResource("TileSetAtlasSource_vmlpi")
sources/3 = SubResource("TileSetAtlasSource_cffgq")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_a2yqm"]
size = Vector2(3613, 62)

[sub_resource type="SpriteFrames" id="SpriteFrames_pe64d"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("11_3ruer")
}],
"loop": true,
"name": &"closed",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("12_dkjh4")
}],
"loop": true,
"name": &"open",
"speed": 5.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_pdgyk"]
size = Vector2(163.5, 260.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_gg47d"]
size = Vector2(56, 45.9975)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ctoh5"]
size = Vector2(238, 160)

[sub_resource type="Animation" id="Animation_r5ws1"]
resource_name = "iddle"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}

[sub_resource type="Animation" id="Animation_rlmet"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}

[sub_resource type="Animation" id="Animation_f5144"]
resource_name = "grab"
length = 2.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.3, 0.6, 0.8, 1, 1.2, 1.4, 1.6, 1.8),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [1, 2, 3, 4, 5, 7, 7, 8, 9]
}

[sub_resource type="Animation" id="Animation_umgdv"]
resource_name = "iddle2"
length = 2.4
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2, 0.4, 0.6, 0.8, 1, 1.2, 1.4, 1.6, 1.8, 2, 2.2),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [10, 11, 12, 13, 14, 15, 15, 16, 17, 18, 18, 19]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_3f52e"]
_data = {
"RESET": SubResource("Animation_rlmet"),
"grab": SubResource("Animation_f5144"),
"iddle": SubResource("Animation_r5ws1"),
"iddle2": SubResource("Animation_umgdv")
}

[sub_resource type="RectangleShape2D" id="RectangleShape2D_nv8ck"]
size = Vector2(64, 34)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_pyjgk"]
size = Vector2(258, 59)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_k1dbe"]
size = Vector2(256, 61)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_qa813"]
size = Vector2(70, 1026)

[node name="Level 1" type="Node2D"]
script = ExtResource("1_4anx1")
metadata/_edit_horizontal_guides_ = []

[node name="Background" type="Sprite2D" parent="."]
position = Vector2(1929.5, 534.75)
scale = Vector2(1.896, 0.987413)
texture = ExtResource("2_c1mje")
metadata/_edit_lock_ = true

[node name="Key" parent="." instance=ExtResource("3_moo0h")]
position = Vector2(381, 943)
scale = Vector2(6, 6)

[node name="SpawnPlayer" type="Node2D" parent="."]
position = Vector2(142, 22)

[node name="Sprite2D" type="Sprite2D" parent="SpawnPlayer"]
position = Vector2(17, 2)
scale = Vector2(1.00488, 1)
texture = ExtResource("4_31b13")
metadata/_edit_lock_ = true

[node name="CanvasLayer" type="CanvasLayer" parent="."]
script = ExtResource("5_1fsjc")

[node name="KeyUI" type="Sprite2D" parent="CanvasLayer"]
position = Vector2(114, 166)
scale = Vector2(6, 6)
texture = ExtResource("6_6ct2o")

[node name="Label" type="Label" parent="CanvasLayer"]
offset_left = 149.0
offset_top = 132.0
offset_right = 271.0
offset_bottom = 199.0
theme_override_fonts/font = ExtResource("6_vg22x")
theme_override_font_sizes/font_size = 35

[node name="LiveUI" type="Sprite2D" parent="CanvasLayer"]
position = Vector2(294, 160)
scale = Vector2(7, 7)
texture = ExtResource("14_6smgm")

[node name="Label2" type="Label" parent="CanvasLayer"]
offset_left = 344.0
offset_top = 135.0
offset_right = 451.0
offset_bottom = 191.0
theme_override_fonts/font = ExtResource("6_vg22x")
theme_override_font_sizes/font_size = 35

[node name="TileMap" type="TileMap" parent="."]
scale = Vector2(4, 4)
tile_set = SubResource("TileSet_ogw1u")
format = 2
layer_0/name = "Tilemap"
layer_0/tile_data = PackedInt32Array(983065, 262145, 0, 1048602, 1, 0, 1048603, 1, 0, 1048604, 1, 0, 1048605, 1, 0, 1048606, 1, 0, 1048607, 1, 0, 1048608, 1, 0, 1048609, 1, 0, 1048610, 1, 0, 1048611, 1, 0, 1048612, 1, 0, 983075, 1, 0, 983074, 1, 0, 983076, 1, 0, 983077, 1, 0, 917543, 1, 0, 917544, 1, 0, 917545, 1, 0, 917546, 1, 0, 1048613, 1, 0, 1048614, 1, 0, 1048615, 1, 0, 1048616, 1, 0, 1048617, 1, 0, 1048618, 1, 0, 1048619, 1, 0, 1048620, 1, 0, 1048621, 1, 0, 1048622, 1, 0, 1048623, 1, 0, 1048629, 1, 0, 1048630, 1, 0, 1048631, 1, 0, 1048632, 1, 0, 1048628, 1, 0, 1048627, 1, 0, 1048626, 1, 0, 1048625, 1, 0, 1048624, 1, 0, 1048576, 1, 0, 1048577, 1, 0, 1048578, 1, 0, 1048579, 1, 0, 1048580, 1, 0, 1048581, 1, 0, 1048582, 1, 0, 1048583, 1, 0, 1048584, 1, 0, 1048585, 1, 0, 1048586, 1, 0, 1048587, 1, 0, 1048588, 1, 0, 1048589, 1, 0, 1048590, 1, 0, 1048591, 1, 0, 1048592, 1, 0, 1048593, 1, 0, 1048594, 1, 0, 1048595, 1, 0, 1048596, 1, 0, 1048597, 1, 0, 1048598, 1, 0, 1048599, 1, 0, 1048600, 1, 0, 1048601, 1, 0)

[node name="Suelo" type="StaticBody2D" parent="."]
collision_layer = 2
collision_mask = 13

[node name="CollisionShape2D" type="CollisionShape2D" parent="Suelo"]
position = Vector2(1840.5, 1055)
shape = SubResource("RectangleShape2D_a2yqm")

[node name="Chest" type="Area2D" parent="."]
script = ExtResource("9_dbux8")
metadata/_edit_lock_ = true

[node name="Animation" type="AnimatedSprite2D" parent="Chest"]
position = Vector2(818, 958)
scale = Vector2(5, 5.975)
sprite_frames = SubResource("SpriteFrames_pe64d")
animation = &"closed"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Chest"]
position = Vector2(814.25, 894)
shape = SubResource("RectangleShape2D_pdgyk")

[node name="Chest2" type="Area2D" parent="."]
script = ExtResource("9_dbux8")
metadata/_edit_lock_ = true

[node name="Animation" type="AnimatedSprite2D" parent="Chest2"]
position = Vector2(1348, 959)
scale = Vector2(5, 5.975)
sprite_frames = SubResource("SpriteFrames_pe64d")
animation = &"closed"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Chest2"]
position = Vector2(1347, 892)
shape = SubResource("RectangleShape2D_pdgyk")

[node name="Chest3" parent="." instance=ExtResource("11_4w3xq")]
position = Vector2(1494, -65)

[node name="Key2" parent="." instance=ExtResource("3_moo0h")]
position = Vector2(1025, 941)

[node name="Live" type="Area2D" parent="."]
position = Vector2(8, 2)
script = ExtResource("12_xivp1")

[node name="Sprite2D" type="Sprite2D" parent="Live"]
position = Vector2(1807, 1001)
scale = Vector2(5.08, 5)
texture = ExtResource("14_6smgm")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Live"]
position = Vector2(1807, 1001)
shape = SubResource("RectangleShape2D_gg47d")

[node name="Checkpoint" type="Area2D" parent="."]
position = Vector2(596, 880)
script = ExtResource("13_at80y")
metadata/num = 1

[node name="Sprite2D" type="Sprite2D" parent="Checkpoint"]
position = Vector2(-5.99997, 43)
scale = Vector2(7, 7)
texture = ExtResource("15_7oy8a")
hframes = 20
metadata/_edit_lock_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="Checkpoint"]
position = Vector2(16, 66)
shape = SubResource("RectangleShape2D_ctoh5")
metadata/_edit_lock_ = true

[node name="AnimationPlayer" type="AnimationPlayer" parent="Checkpoint"]
speed_scale = 2.0
libraries = {
"": SubResource("AnimationLibrary_3f52e")
}

[node name="Checkpoint2" type="Area2D" parent="."]
position = Vector2(2632, 752)
script = ExtResource("13_at80y")
metadata/num = 2

[node name="Sprite2D" type="Sprite2D" parent="Checkpoint2"]
position = Vector2(-5.99997, 43)
scale = Vector2(7, 7)
texture = ExtResource("15_7oy8a")
hframes = 20
metadata/_edit_lock_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="Checkpoint2"]
position = Vector2(16, 66)
shape = SubResource("RectangleShape2D_ctoh5")
metadata/_edit_lock_ = true

[node name="AnimationPlayer" type="AnimationPlayer" parent="Checkpoint2"]
speed_scale = 2.0
libraries = {
"": SubResource("AnimationLibrary_3f52e")
}

[node name="Spike" type="Area2D" parent="."]
position = Vector2(928, 296)
script = ExtResource("15_ouvhg")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Spike"]
position = Vector2(704, 708)
shape = SubResource("RectangleShape2D_nv8ck")

[node name="Plataformas" type="StaticBody2D" parent="."]
collision_layer = 2
collision_mask = 5

[node name="CollisionShape2D" type="CollisionShape2D" parent="Plataformas"]
position = Vector2(2305, 990)
shape = SubResource("RectangleShape2D_pyjgk")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Plataformas"]
position = Vector2(2623, 927)
shape = SubResource("RectangleShape2D_k1dbe")

[node name="Enemy" parent="." instance=ExtResource("14_jysg7")]
position = Vector2(1900, 988)

[node name="StaticBody2D" type="StaticBody2D" parent="."]
collision_layer = 2
collision_mask = 5

[node name="CollisionShape2D" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(-2, 515)
shape = SubResource("RectangleShape2D_qa813")

[node name="Portal" parent="." instance=ExtResource("15_2ccp8")]
position = Vector2(2837, 800)
scale = Vector2(5, 5)

[node name="Key3" parent="." instance=ExtResource("3_moo0h")]
position = Vector2(2072, 928)

[connection signal="body_entered" from="Chest" to="Chest" method="_on_body_entered"]
[connection signal="body_entered" from="Chest2" to="Chest2" method="_on_body_entered"]
[connection signal="body_entered" from="Live" to="Live" method="_on_body_entered"]
[connection signal="body_entered" from="Checkpoint" to="Checkpoint" method="_on_body_entered"]
[connection signal="animation_finished" from="Checkpoint/AnimationPlayer" to="Checkpoint" method="_on_animation_player_animation_finished"]
[connection signal="body_entered" from="Checkpoint2" to="Checkpoint2" method="_on_body_entered"]
[connection signal="animation_finished" from="Checkpoint2/AnimationPlayer" to="Checkpoint2" method="_on_animation_player_animation_finished"]
[connection signal="body_entered" from="Spike" to="Spike" method="_on_body_entered"]
